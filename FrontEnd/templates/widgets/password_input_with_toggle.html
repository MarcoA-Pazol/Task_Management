{% load static %}

<div class="password-input-container">
    <input type="password" name="{{ widget.name }}" id="{{ widget.id_for_label }}"
           {% include "django/forms/widgets/attrs.html" %} />
    <button type="button" class="password-toggle-btn">
        <img src="{% static 'images/eye.png' %}" alt="Toggle password visibility">
    </button>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const passwordInput = document.querySelector('#{{ widget.id_for_label }}');
        const toggleButton = document.querySelector('.password-toggle-btn');

        toggleButton.addEventListener('click', function() {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
        });
    });
</script>